<nb-card>
  <nb-card-header class="d-flex justify-content-between">
    <h3>Agreements</h3>

    <nb-actions>
      <nb-action icon="plus" link="add"></nb-action>
    </nb-actions>
  </nb-card-header>
  <nb-card-body>
    <ng-container *ngIf="agreements$ | async as agreements; else loading">
      <ng-container *ngIf="agreements.length; else empty">
        <table class="table table-striped table-hover" style="width: 100%">
          <thead>
          <tr>
            <th scope="col">Period</th>
            <th scope="col" class="text-end">High tariff</th>
            <th scope="col" class="text-end">Low tariff</th>
            <th scope="col">Approved
            </th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let agreement of agreements" [routerLink]="agreement.id" style="cursor: pointer">
            <td>{{agreement.periodFrom | date}} - {{agreement.periodUpto | date}}</td>
            <td class="text-end">{{agreement.highTariff | currency: 'CHF'}}</td>
            <td class="text-end">{{agreement.lowTariff | currency: 'CHF'}}</td>
            <td>{{agreement.approved | date}}</td>
          </tr>
          </tbody>
        </table>
      </ng-container>
    </ng-container>


    <ng-template #empty>
      Add your first agreement
    </ng-template>

    <ng-template #loading>
      <p class="placeholder-glow">
        <span class="placeholder col-12"></span>
      </p>
    </ng-template>

  </nb-card-body>
</nb-card>
