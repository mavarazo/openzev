<nb-card>
  <nb-card-header class="d-flex justify-content-between">
    <h3>Accounting</h3>

    <nb-actions>
      <nb-action icon="plus" link="add"></nb-action>
    </nb-actions>
  </nb-card-header>
  <nb-card-body>
    <ng-container *ngIf="accountings$ | async as accountings; else loading">
      <ng-container *ngIf="accountings.length; else empty">
        <table class="table table-striped table-hover" style="width: 100%">
          <thead>
          <tr>
            <th scope="col">Period</th>
            <th scope="col">Subject</th>
            <th scope="col" class="text-end">High tariff</th>
            <th scope="col" class="text-end">Low tariff</th>
            <th scope="col" class="text-end">Total</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let accounting of accountings" [routerLink]="accounting.id" style="cursor: pointer">
            <td>{{accounting.periodFrom | date}} - {{accounting.periodFrom | date}}</td>
            <td>{{accounting.subject}}</td>
            <td class="text-end">{{accounting.amountHighTariff | currency: 'CHF'}}</td>
            <td class="text-end">{{accounting.amountLowTariff | currency: 'CHF'}}</td>
            <td class="text-end">{{accounting.amountTotal | currency: 'CHF'}}</td>
          </tr>
          </tbody>
        </table>
      </ng-container>
    </ng-container>

    <ng-template #empty>
      Add your first accounting
    </ng-template>

    <ng-template #loading>
      <p class="placeholder-glow">
        <span class="placeholder col-12"></span>
      </p>
    </ng-template>

  </nb-card-body>
</nb-card>
